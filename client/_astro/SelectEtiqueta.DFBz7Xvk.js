import{d as k,c as o,o as l,a as i,F as b,r as v,t as f,b as g}from"./index.BA0kIsUy.js";import{a as q}from"./http.BXiFSbaU.js";import{_ as y}from"./_plugin-vue_export-helper.DlAUqK2U.js";const E=k({__name:"SelectEtiqueta",emits:["setOption"],setup(h,{expose:d,emit:m}){d();const e=m,s=g([]),{data:u,isError:n,isPending:c}=q("etiquetas","etiquetasData"),a=g([]),x={emit:e,values:s,data:u,isError:n,isPending:c,defaultLabels:a,handleClick:r=>{if(s.value=[...s.value,{id:r.idetiqueta,label:r.nombre}],e("setOption",s.value),a.value.length<1){const t=[...u.value.response],_=t.findIndex(p=>p.idetiqueta===r.idetiqueta);t.splice(_,1),a.value=t}else{const t=[...a.value],_=t.findIndex(p=>p.idetiqueta===r.idetiqueta);t.splice(_,1),a.value=t}},deleteEtiqueta:r=>{const t=[...s.value],_=[...u.value.response].findIndex(p=>p.idetiqueta===t[r].id);a.value=[...a.value,u.value.response[_]],t.splice(r,1),s.value=t,e("setOption",s.value)}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}}),w={class:"w-full"},C={class:"flex gap-4 items-center"},O={class:"border border-base-content/20 rounded-box h-20 flex-grow gap-4 p-2 flex flex-wrap overflow-y-auto"},S={key:0,class:"badge badge-primary"},F=["onClick"],V={class:"dropdown"},A={class:"menu dropdown-content bg-base-100 rounded-box z-50 w-52 p-2 shadow"},B=["onClick"],D=["onClick"];function I(h,d,m,e,s,u){return l(),o("div",w,[d[1]||(d[1]=i("label",null,"Etiquetas",-1)),i("div",C,[i("div",O,[e.values.length<1?(l(),o("span",S,"¡Añade algunas etiquetas!")):(l(!0),o(b,{key:1},v(e.values,(n,c)=>(l(),o("div",{class:"badge badge-primary cursor-pointer hover:badge-error",onClick:a=>e.deleteEtiqueta(c)},f(n.label),9,F))),256))]),i("details",V,[d[0]||(d[0]=i("summary",{class:"btn btn-secondary m-1"},"Añadir etiquetas",-1)),i("ul",A,[!e.isPending&&!e.isError&&e.values.length<1?(l(!0),o(b,{key:0},v(e.data.response,n=>(l(),o("li",null,[i("button",{type:"button",onClick:c=>e.handleClick(n)},f(n.nombre),9,B)]))),256)):(l(!0),o(b,{key:1},v(e.defaultLabels,n=>(l(),o("li",null,[i("button",{type:"button",onClick:c=>e.handleClick(n)},f(n.nombre),9,D)]))),256))])])])])}const N=y(E,[["render",I]]);export{N as S};
