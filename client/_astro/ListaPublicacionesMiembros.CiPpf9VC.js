import{d as f,k as b,l as a,b as _,o as g,a as s,w as h,g as x,m as l,t as n,n as C}from"./index.yVLjZFxg.js";import{F as v}from"./index.BTSUBtd4.js";import{s as S,a as w}from"./index.BWlzKhLC.js";/* empty css                      */import{_ as y}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.Dso36XC0.js";const N=f({__name:"ListaPublicacionesMiembros",props:{data:{}},setup(u,{expose:t}){t();const m=u,o=_({global:{value:null,matchMode:v.CONTAINS}}),d={props:m,filters:o,getCollabs:e=>{const r=new Intl.ListFormat("es",{type:"conjunction",style:"long"}),i=[];if(e.miembros_publicacion.forEach(c=>{i.push(c.nombreCompleto)}),e.otrosAutores){const c=e.otrosAutores.split(";");i.push(...c)}return i.length<1?"---":r.format(i)},get Column(){return S},get DataTable(){return w}};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}}),A={class:"flex justify-end mb-4"},F={class:"input input-bordered flex items-center gap-2 w-full max-w-xs"},T={class:"w-20"},I={class:"min-w-32"},M={class:"w-32"};function P(u,t,m,o,p,d){return g(),b(o.DataTable,{value:o.props.data,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],filters:o.filters,"onUpdate:filters":t[1]||(t[1]=e=>o.filters=e),globalFilterFields:["ISSN","titulo","otrosAutores"]},{header:a(()=>[s("div",A,[s("label",F,[t[2]||(t[2]=s("i",{class:"bi bi-search"},null,-1)),h(s("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.filters.global.value=e),type:"text",class:"grow",placeholder:"Buscar publicación (ISSN, titulo, autores)"},null,512),[[x,o.filters.global.value]])])])]),empty:a(()=>t[3]||(t[3]=[s("div",{class:"text-center font-bold"},"Sin datos.",-1)])),default:a(()=>[l(o.Column,{field:"ISSN",header:"ISSN"},{body:a(({data:e,field:r})=>[s("div",T,n(e[r]??"---"),1)]),_:1}),l(o.Column,{field:"titulo",header:"Titulo"},{body:a(({data:e,field:r})=>[s("div",I,n(e[r]),1)]),_:1}),l(o.Column,{field:"year",header:"Año",sortable:""}),l(o.Column,{field:"miembros_publicacion",header:"Autores"},{body:a(({data:e})=>[s("div",M,n(o.getCollabs(e)),1)]),_:1}),l(o.Column,{field:"tipo",header:"Tipo",sortable:""},{body:a(({data:e,field:r})=>[C(n(e[r].toUpperCase()),1)]),_:1})]),_:1},8,["value","filters"])}const O=y(N,[["render",P]]);export{O as default};
