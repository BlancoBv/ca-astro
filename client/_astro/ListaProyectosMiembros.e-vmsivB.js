import{d as C,k as v,l as t,b as g,j as y,m as w,o as c,a as s,w as x,g as M,n as l,t as n,p as m,c as _,F as T,q as E}from"./index.DxymP5mP.js";import{s as k,a as F}from"./index.D4-YNOjM.js";import{F as I}from"./index.BTSUBtd4.js";import{a as P}from"./format.DRaPJfrL.js";/* empty css                      */import{_ as B}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.CMpjuUv9.js";import"./moment.C5S46NFB.js";const D=C({__name:"ListaProyectosMiembros",props:{data:{},rows:{}},setup(f,{expose:a}){a();const b=f,e=g(!1),p=g({global:{value:null,matchMode:I.CONTAINS}}),u=r=>{const h=new Intl.ListFormat("es",{type:"conjunction",style:"long"}),i=[];if(r.miembros_proyecto.forEach(d=>{i.push(d.nombreCompleto)}),r.otrosColaboradores){const d=r.otrosColaboradores.split(";");i.push(...d)}return i.length<1?"---":h.format(i)};y(()=>{e.value=!0}),w(()=>{e.value=!1});const o={props:b,isMounted:e,filters:p,getCollabs:u,get Column(){return k},get DataTable(){return F},get formatMoneda(){return P}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),N={class:"flex justify-end mb-4"},S={class:"input input-bordered flex items-center gap-2 w-full max-w-xs"},U={class:"w-20"},V={class:"min-w-32"},j={class:"w-24"},O={class:"w-32"},z={key:1,class:"w-24"};function L(f,a,b,e,p,u){return c(),v(e.DataTable,{value:e.props.data,paginator:!0,rows:e.props.rows??10,rowsPerPageOptions:e.props.rows?void 0:[5,10,20,50],filters:e.filters,"onUpdate:filters":a[1]||(a[1]=o=>e.filters=o),globalFilterFields:["clave","titulo","convocatoria","director_proyecto.nombreCompleto","otrosColaboradores"],loading:e.props.data.length<1?!1:!e.isMounted},{loading:t(()=>a[2]||(a[2]=[s("div",{class:"absolute top-0 left-0 h-full w-full z-30 select-none skeleton bg-base-300/60 backdrop-blur-[0.5px] rounded-btn"},null,-1)])),header:t(()=>[s("div",N,[s("label",S,[a[3]||(a[3]=s("i",{class:"bi bi-search"},null,-1)),x(s("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.filters.global.value=o),type:"text",class:"grow",placeholder:"Buscar proyecto (clave, titulo, convocatoria, director)"},null,512),[[M,e.filters.global.value]])])])]),empty:t(()=>a[4]||(a[4]=[s("div",{class:"text-center font-bold"},"Sin datos.",-1)])),default:t(()=>[l(e.Column,{field:"clave",header:"Clave"},{body:t(({data:o,field:r})=>[s("div",U,n(o[r]),1)]),_:1}),l(e.Column,{field:"convocatoria",header:"Convocatoria"}),l(e.Column,{field:"titulo",header:"Titulo"},{body:t(({data:o,field:r})=>[s("div",V,n(o[r]),1)]),_:1}),l(e.Column,{field:"director_proyecto.nombreCompleto",header:"Director(a) responsable",sortable:""}),l(e.Column,{field:"fechaInicio",header:"Vigencia"},{body:t(({data:o})=>[s("div",j,n(o.fechaInicio)+" a "+n(o.fechaTermino),1)]),_:1}),l(e.Column,{field:"miembros_proyecto",header:"Colaboradores"},{body:t(({data:o})=>[s("div",O,n(e.getCollabs(o)),1)]),_:1}),l(e.Column,{field:"tipo",header:"Tipo",sortable:""},{body:t(({data:o,field:r})=>[m(n(o[r].toUpperCase()),1)]),_:1}),l(e.Column,{field:"monto",header:"Monto aprobado",sortable:""},{body:t(({data:o,field:r})=>[m(n(e.formatMoneda(o[r])),1)]),_:1}),l(e.Column,{field:"fechaInicioEntrega",header:"Entrega final"},{body:t(({data:o})=>[!o.fechaInicioEntrega||!o.fechaTerminoEntrega?(c(),_(T,{key:0},[m(" --- ")],64)):(c(),_("div",z,n(o.fechaInicioEntrega)+" a "+n(o.fechaTerminoEntrega),1))]),_:1}),l(e.Column,{field:"estatus",header:"Estatus",sortable:""},{body:t(({data:o,field:r})=>[s("div",{class:E(["badge h-max",{"badge-success":o[r]==="finalizado","badge-info":o[r]==="en proceso"}])},n(o[r].toUpperCase()),3)]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","filters","loading"])}const W=B(D,[["render",L]]);export{W as default};
