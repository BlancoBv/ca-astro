import{d as w,b as D,j as B,y as F,o as u,c as y,k as S,l as d,s as c,m as f,t as b,a as t,w as x,g as _,f as k,F as A,i as C}from"./index.CZZ2clTV.js";import{a as M,u as U}from"./http.DqT3b60p.js";import{a as j,s as V}from"./index.CTOhiabY.js";import{h as L}from"./moment.C5S46NFB.js";import{_ as g}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./utils.BuRkxpfH.js";import"./index.fJ5r5uWv.js";const T=w({__name:"ListaBanners",props:{data:{}},setup(l,{expose:a}){a();const r=l,e=D(!1);B(()=>{e.value=!0}),F(()=>{e.value=!1});const o={props:r,isMounted:e,get DataTable(){return j},get Column(){return V},get moment(){return L}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),E={key:0,class:"skeleton h-96 w-full"},I=["src","alt"];function N(l,a,r,e,o,i){return e.isMounted?(u(),S(e.DataTable,{key:1,value:e.props.data,paginator:!0,rows:5},{default:d(()=>[c(e.Column,{field:"descripcion",header:"Descripci칩n"},{body:d(({data:n,field:s})=>[f(b(n[s]??"---"),1)]),_:1}),c(e.Column,{field:"imagen",header:"Imagen"},{body:d(({data:n,field:s})=>[t("img",{class:"object-cover size-12",src:n[s],alt:n[s],width:"50px",height:"50px"},null,8,I)]),_:1}),c(e.Column,{field:"createdAt",header:"Fecha de creaci칩n"},{body:d(({data:n,field:s})=>[f(b(e.moment(n[s]).locale("es-MX").format("L")),1)]),_:1})]),_:1},8,["value"])):(u(),y("div",E))}const P=g(T,[["render",N]]),O=w({__name:"AddBanner",props:{idUsuario:{}},setup(l,{expose:a}){a();const r=l,e=new FormData,o=C({descripcion:"",url:""}),{refetch:i,data:n}=M("banners","bannersPanelData"),s=U("banners","post",{sendAsFormData:!0,onSuccess(){const p=document.getElementById("input-add-image");p.value="",i()}}),m={props:r,formData:e,body:o,refetch:i,data:n,sendBanner:s,handle:p=>{const{name:v,files:h}=p.target;e.append(v,h[0])},send:()=>{e.append("url",o.url),e.append("descripcion",o.url),e.append("idUsuario",r.idUsuario??""),e.append("mostrar","1"),s.mutate(e)},ListaBanners:P};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),q={class:"form-control w-full max-w-xs"},z={class:"form-control w-full max-w-xs"},G={class:"form-control w-full max-w-xs"};function X(l,a,r,e,o,i){return u(),y(A,null,[t("form",{onSubmit:k(e.send,["prevent"]),class:"flex gap-4 items-center"},[t("label",q,[a[2]||(a[2]=t("div",{class:"label"},[t("span",{class:"label-text"},"Selecciona una imagen")],-1)),t("input",{name:"imagen",type:"file",class:"file-input file-input-bordered w-full max-w-xs",accept:"image/*",onInput:e.handle,id:"input-add-image",required:""},null,32)]),t("label",z,[a[3]||(a[3]=t("div",{class:"label"},[t("span",{class:"label-text"},"Descripci칩n")],-1)),x(t("input",{type:"text",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":a[0]||(a[0]=n=>e.body.descripcion=n)},null,512),[[_,e.body.descripcion]])]),t("label",G,[a[4]||(a[4]=t("div",{class:"label"},[t("span",{class:"label-text"},"Enlace Adjunto")],-1)),x(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>e.body.url=n),class:"input input-bordered w-full max-w-xs"},null,512),[[_,e.body.url]])]),a[5]||(a[5]=t("button",{class:"btn btn-primary",type:"submit"},"A침adir banner",-1))],32),c(e.ListaBanners,{data:e.data?.response},null,8,["data"])],64)}const ee=g(O,[["render",X]]);export{ee as default};
