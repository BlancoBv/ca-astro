import{d as h,k as C,l as t,b as g,o as m,a as s,w as v,g as y,m as l,t as i,n as f,c as u,F as w,p as x}from"./index.yVLjZFxg.js";import{s as M,a as T}from"./index.BWlzKhLC.js";import{F as E}from"./index.BTSUBtd4.js";import{a as F}from"./format.DRaPJfrL.js";/* empty css                      */import{_ as I}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.Dso36XC0.js";import"./moment.C5S46NFB.js";const k=h({__name:"ListaProyectosMiembros",props:{data:{}},setup(b,{expose:a}){a();const p=b,e=g({global:{value:null,matchMode:E.CONTAINS}}),c={props:p,filters:e,getCollabs:o=>{const r=new Intl.ListFormat("es",{type:"conjunction",style:"long"}),n=[];if(o.miembros_proyecto.forEach(d=>{n.push(d.nombreCompleto)}),o.otrosColaboradores){const d=o.otrosColaboradores.split(";");n.push(...d)}return n.length<1?"---":r.format(n)},get Column(){return M},get DataTable(){return T},get formatMoneda(){return F}};return Object.defineProperty(c,"__isScriptSetup",{enumerable:!1,value:!0}),c}}),B={class:"flex justify-end mb-4"},D={class:"input input-bordered flex items-center gap-2 w-full max-w-xs"},N={class:"w-20"},P={class:"min-w-32"},S={class:"w-24"},V={class:"w-32"},U={key:1,class:"w-24"};function j(b,a,p,e,_,c){return m(),C(e.DataTable,{value:e.props.data,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],filters:e.filters,"onUpdate:filters":a[1]||(a[1]=o=>e.filters=o),globalFilterFields:["clave","titulo","convocatoria","director_proyecto.nombreCompleto","otrosColaboradores"]},{header:t(()=>[s("div",B,[s("label",D,[a[2]||(a[2]=s("i",{class:"bi bi-search"},null,-1)),v(s("input",{"onUpdate:modelValue":a[0]||(a[0]=o=>e.filters.global.value=o),type:"text",class:"grow",placeholder:"Buscar proyecto (clave, titulo, convocatoria, director)"},null,512),[[y,e.filters.global.value]])])])]),empty:t(()=>a[3]||(a[3]=[s("div",{class:"text-center font-bold"},"Sin datos.",-1)])),default:t(()=>[l(e.Column,{field:"clave",header:"Clave"},{body:t(({data:o,field:r})=>[s("div",N,i(o[r]),1)]),_:1}),l(e.Column,{field:"convocatoria",header:"Convocatoria"}),l(e.Column,{field:"titulo",header:"Titulo"},{body:t(({data:o,field:r})=>[s("div",P,i(o[r]),1)]),_:1}),l(e.Column,{field:"director_proyecto.nombreCompleto",header:"Director(a) responsable",sortable:""}),l(e.Column,{field:"fechaInicio",header:"Vigencia"},{body:t(({data:o})=>[s("div",S,i(o.fechaInicio)+" a "+i(o.fechaTermino),1)]),_:1}),l(e.Column,{field:"miembros_proyecto",header:"Colaboradores"},{body:t(({data:o})=>[s("div",V,i(e.getCollabs(o)),1)]),_:1}),l(e.Column,{field:"tipo",header:"Tipo",sortable:""},{body:t(({data:o,field:r})=>[f(i(o[r].toUpperCase()),1)]),_:1}),l(e.Column,{field:"monto",header:"Monto aprobado",sortable:""},{body:t(({data:o,field:r})=>[f(i(e.formatMoneda(o[r])),1)]),_:1}),l(e.Column,{field:"fechaInicioEntrega",header:"Entrega final"},{body:t(({data:o})=>[!o.fechaInicioEntrega||!o.fechaTerminoEntrega?(m(),u(w,{key:0},[f(" --- ")],64)):(m(),u("div",U,i(o.fechaInicioEntrega)+" a "+i(o.fechaTerminoEntrega),1))]),_:1}),l(e.Column,{field:"estatus",header:"Estatus",sortable:""},{body:t(({data:o,field:r})=>[s("div",{class:x(["badge h-max",{"badge-success":o[r]==="finalizado","badge-info":o[r]==="en proceso"}])},i(o[r].toUpperCase()),3)]),_:1})]),_:1},8,["value","filters"])}const K=I(k,[["render",j]]);export{K as default};
