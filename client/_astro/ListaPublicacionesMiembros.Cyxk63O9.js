import{d as _,k as g,l,b,j as w,m as v,o as x,a as r,w as h,g as C,n as a,t as n,p as S}from"./index.DGIqKwc_.js";import{F as y}from"./index.BTSUBtd4.js";import{s as M,a as N}from"./index.BFyzPufX.js";/* empty css                      */import{_ as A}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.BB4SJUmK.js";const F=_({__name:"ListaPublicacionesMiembros",props:{data:{},rows:{}},setup(u,{expose:t}){t();const p=u,o=b(!1),c=b({global:{value:null,matchMode:y.CONTAINS}}),f=s=>{const m=new Intl.ListFormat("es",{type:"conjunction",style:"long"}),i=[];if(s.miembros_publicacion.forEach(d=>{i.push(d.nombreCompleto)}),s.otrosAutores){const d=s.otrosAutores.split(";");i.push(...d)}return i.length<1?"---":m.format(i)};w(()=>{o.value=!0}),v(()=>{o.value=!1});const e={props:p,isMounted:o,filters:c,getCollabs:f,get Column(){return M},get DataTable(){return N}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),P={class:"flex justify-end mb-4"},T={class:"input input-bordered flex items-center gap-2 w-full max-w-xs"},I={class:"w-20"},k={class:"min-w-32"},j={class:"w-32"};function B(u,t,p,o,c,f){return x(),g(o.DataTable,{value:o.props.data,paginator:!0,rows:o.props.rows??10,rowsPerPageOptions:o.props.rows?void 0:[5,10,20,50],filters:o.filters,"onUpdate:filters":t[1]||(t[1]=e=>o.filters=e),globalFilterFields:["ISSN","titulo","otrosAutores"],loading:o.props.data.length<1?!1:!o.isMounted},{loading:l(()=>t[2]||(t[2]=[r("div",{class:"absolute top-0 left-0 h-full w-full z-30 select-none skeleton bg-base-300/60 backdrop-blur-[0.5px] rounded-btn"},null,-1)])),header:l(()=>[r("div",P,[r("label",T,[t[3]||(t[3]=r("i",{class:"bi bi-search"},null,-1)),h(r("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.filters.global.value=e),type:"text",class:"grow",placeholder:"Buscar publicación (ISSN, titulo, autores)"},null,512),[[C,o.filters.global.value]])])])]),empty:l(()=>t[4]||(t[4]=[r("div",{class:"text-center font-bold"},"Sin datos.",-1)])),default:l(()=>[a(o.Column,{field:"ISSN",header:"ISSN"},{body:l(({data:e,field:s})=>[r("div",I,n(e[s]??"---"),1)]),_:1}),a(o.Column,{field:"titulo",header:"Titulo"},{body:l(({data:e,field:s})=>[r("div",k,n(e[s]),1)]),_:1}),a(o.Column,{field:"year",header:"Año",sortable:""}),a(o.Column,{field:"miembros_publicacion",header:"Autores"},{body:l(({data:e})=>[r("div",j,n(o.getCollabs(e)),1)]),_:1}),a(o.Column,{field:"tipo",header:"Tipo",sortable:""},{body:l(({data:e,field:s})=>[S(n(e[s].toUpperCase()),1)]),_:1})]),_:1},8,["value","rows","rowsPerPageOptions","filters","loading"])}const E=A(F,[["render",B]]);export{E as default};
