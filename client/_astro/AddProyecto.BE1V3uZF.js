import{d as g,u as h,r as f,o as v,a as D,b as p,c as b,e as u,t as s,f as r,g as C,w as l,h as y,n as _,F as P}from"./index.DAwKwvHW.js";import{u as w}from"./http.BBymGzR_.js";import{s as S,a as k}from"./index.C5WA_ONu.js";import{s as T}from"./index.DL-aZw65.js";import{f as B,a as I}from"./format.DImkLxIw.js";/* empty css                       */import{_ as x}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./utils.BwJ96ihJ.js";import"./index.DO--NrZ_.js";import"./moment.C5S46NFB.js";const E=g({__name:"ListaProyectos",props:{data:{},isPending:{type:Boolean},mutationDelete:{}},setup(c,{expose:n}){n();const d=c,e=h("cm"),a=f(null),i=f(!1),o=f([{label:"Eliminar",icon:"bi bi-trash-fill",command:()=>{}}]),t=M=>{e.value?.show(M.originalEvent)};v(()=>{i.value=!0}),D(()=>{i.value=!1});const m={props:d,cm:e,selectedItem:a,isMounted:i,items:o,onRowContextMenu:t,get DataTable(){return S},get Column(){return k},get ContextMenu(){return T},get formatDate(){return B},get formatMoneda(){return I}};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),F={key:0,class:"skeleton h-96 w-full"};function R(c,n,d,e,a,i){return p(),b(P,null,[u(s(e.selectedItem)+" ",1),r(e.ContextMenu,{ref:"cm",model:e.items,onHide:n[0]||(n[0]=o=>e.selectedItem=null)},null,8,["model"]),e.isMounted?(p(),C(e.DataTable,{key:1,class:_({"skeleton select-none":e.props.isPending}),value:e.props.data,paginator:!0,rows:5,onRowContextmenu:e.onRowContextMenu,"context-menu":"",contextMenuSelection:e.selectedItem,"onUpdate:contextMenuSelection":n[1]||(n[1]=o=>e.selectedItem=o)},{default:l(()=>[r(e.Column,{field:"clave",header:"Clave del proyecto",sortable:""}),r(e.Column,{field:"titulo",header:"Titulo del proyecto"}),r(e.Column,{field:"tipo",header:"Tipo de proyecto",sortable:""},{body:l(({data:o,field:t})=>[y("div",{class:_(["badge h-max",{"badge-accent":o[t]==="externo","badge-info":o[t]!=="externo"}])},s(o[t].toUpperCase()),3)]),_:1}),r(e.Column,{field:"director_proyecto.nombreCompleto",header:"Director de proyecto"}),r(e.Column,{field:"miembros_proyecto",header:"Miembros del proyecto"},{body:l(({data:o,field:t})=>[u(s(o[t].map(m=>m.nombreCompleto).join(",")),1)]),_:1}),r(e.Column,{field:o=>o.otrosColaboradores??"---",header:"Otros colaboradores"},null,8,["field"]),r(e.Column,{field:"estatus",header:"Estatus del proyecto",sortable:""},{body:l(({data:o,field:t})=>[y("div",{class:_(["badge h-max",{"badge-warning":o[t]==="en proceso","badge-success":o[t]==="finalizado","badge-error":o[t]==="no finalizado"}])},s(o[t].toUpperCase()),3)]),_:1}),r(e.Column,{field:"monto",header:"Monto del proyecto",sortable:""},{body:l(({data:o,field:t})=>[u(s(e.formatMoneda(o[t])),1)]),_:1}),r(e.Column,{field:"createdAt",header:"Fecha de creaciÃ³n",sortable:""},{body:l(({data:o,field:t})=>[u(s(e.formatDate(o[t],"DD-MM-YYYY")),1)]),_:1})]),_:1},8,["class","value","contextMenuSelection"])):(p(),b("div",F))],64)}const U=x(E,[["render",R]]),Y=g({__name:"AddProyecto",setup(c,{expose:n}){n();const{data:d,isPending:e}=w("proyectos","proyectosData"),a={data:d,isPending:e,ListaProyectos:U};return Object.defineProperty(a,"__isScriptSetup",{enumerable:!1,value:!0}),a}});function j(c,n,d,e,a,i){return p(),C(e.ListaProyectos,{data:e.data?.response??[],"mutation-delete":()=>{},"is-pending":e.isPending},null,8,["data","is-pending"])}const K=x(Y,[["render",j]]);export{K as default};
