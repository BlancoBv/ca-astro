import{d as C,u as v,b as p,j as D,q as P,o as f,c as _,m as u,t as l,s as r,k as x,l as i,a as y,n as b,F as S,i as k}from"./index.BVGSAqHi.js";import{a as g}from"./http.kayl167E.js";import{a as w,s as I}from"./index.Ma997Kmy.js";import{s as T}from"./index.C0tAye0R.js";import{f as B,a as j}from"./format.DImkLxIw.js";/* empty css                       */import{_ as M}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./utils.eexey1_X.js";import"./index.Dh0zx59m.js";import"./moment.C5S46NFB.js";const E=C({__name:"ListaProyectos",props:{data:{},isPending:{type:Boolean},mutationDelete:{}},setup(m,{expose:n}){n();const d=m,e=v("cm"),c=p(null),a=p(!1),o=p([{label:"Eliminar",icon:"bi bi-trash-fill",command:()=>{}}]),t=h=>{e.value?.show(h.originalEvent)};D(()=>{a.value=!0}),P(()=>{a.value=!1});const s={props:d,cm:e,selectedItem:c,isMounted:a,items:o,onRowContextMenu:t,get DataTable(){return w},get Column(){return I},get ContextMenu(){return T},get formatDate(){return B},get formatMoneda(){return j}};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}}),F={key:0,class:"skeleton h-96 w-full"};function R(m,n,d,e,c,a){return f(),_(S,null,[u(l(e.selectedItem)+" ",1),r(e.ContextMenu,{ref:"cm",model:e.items,onHide:n[0]||(n[0]=o=>e.selectedItem=null)},null,8,["model"]),e.isMounted?(f(),x(e.DataTable,{key:1,class:b({"skeleton select-none":e.props.isPending}),value:e.props.data,paginator:!0,rows:5,onRowContextmenu:e.onRowContextMenu,"context-menu":"",contextMenuSelection:e.selectedItem,"onUpdate:contextMenuSelection":n[1]||(n[1]=o=>e.selectedItem=o)},{default:i(()=>[r(e.Column,{field:"clave",header:"Clave del proyecto",sortable:""}),r(e.Column,{field:"titulo",header:"Titulo del proyecto"}),r(e.Column,{field:"tipo",header:"Tipo de proyecto",sortable:""},{body:i(({data:o,field:t})=>[y("div",{class:b(["badge h-max",{"badge-accent":o[t]==="externo","badge-info":o[t]!=="externo"}])},l(o[t].toUpperCase()),3)]),_:1}),r(e.Column,{field:"director_proyecto.nombreCompleto",header:"Director de proyecto"}),r(e.Column,{field:"miembros_proyecto",header:"Miembros del proyecto"},{body:i(({data:o,field:t})=>[u(l(o[t].map(s=>s.nombreCompleto).join(",")),1)]),_:1}),r(e.Column,{field:o=>o.otrosColaboradores??"---",header:"Otros colaboradores"},null,8,["field"]),r(e.Column,{field:"estatus",header:"Estatus del proyecto",sortable:""},{body:i(({data:o,field:t})=>[y("div",{class:b(["badge h-max",{"badge-warning":o[t]==="en proceso","badge-success":o[t]==="finalizado","badge-error":o[t]==="no finalizado"}])},l(o[t].toUpperCase()),3)]),_:1}),r(e.Column,{field:"monto",header:"Monto del proyecto",sortable:""},{body:i(({data:o,field:t})=>[u(l(e.formatMoneda(o[t])),1)]),_:1}),r(e.Column,{field:"createdAt",header:"Fecha de creaciÃ³n",sortable:""},{body:i(({data:o,field:t})=>[u(l(e.formatDate(o[t],"DD-MM-YYYY")),1)]),_:1})]),_:1},8,["class","value","contextMenuSelection"])):(f(),_("div",F))],64)}const U=M(E,[["render",R]]),Y=C({__name:"AddProyecto",setup(m,{expose:n}){n();const{data:d,isPending:e}=g("proyectos","proyectosData"),{data:c,isPending:a}=g("miembros","miembrosData"),o=p(),t=k({miembrosColaboradores:[]}),s={data:d,isPending:e,miembros:c,miembrosIsPending:a,miembrosSelect:o,body:t,ListaProyectos:U};return Object.defineProperty(s,"__isScriptSetup",{enumerable:!1,value:!0}),s}});function z(m,n,d,e,c,a){return f(),x(e.ListaProyectos,{data:e.data?.response??[],"mutation-delete":()=>{},"is-pending":e.isPending},null,8,["data","is-pending"])}const Q=M(Y,[["render",z]]);export{Q as default};
