import{d as _,g,h as D,i as d,p,j as m,t as f,a as t,c as h,b,v as x,w as B,F,f as S}from"./index.D8K0Xl66.js";import{a as A,u as C}from"./http.BgHm7D1l.js";import{a as j,s as U}from"./index.BJ2JpYNH.js";import{h as V}from"./moment.C5S46NFB.js";import{_ as w}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./utils.x8l0Hx9r.js";import"./index.GWA5kCMU.js";const k=_({__name:"ListaBanners",props:{data:{}},setup(r,{expose:a}){a();const e={props:r,get DataTable(){return j},get Column(){return U},get moment(){return V}};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}}),L=["src","alt"];function T(r,a,o,e,l,i){return g(),D(e.DataTable,{value:e.props.data,paginator:!0,rows:5},{default:d(()=>[p(e.Column,{field:"descripcion",header:"Descripci칩n"},{body:d(({data:n,field:s})=>[m(f(n[s]??"---"),1)]),_:1}),p(e.Column,{field:"imagen",header:"Imagen"},{body:d(({data:n,field:s})=>[t("img",{class:"object-contain",src:n[s],alt:n[s],width:"100px",height:"100px"},null,8,L)]),_:1}),p(e.Column,{field:"createdAt",header:"Fecha de creaci칩n"},{body:d(({data:n,field:s})=>[m(f(e.moment(n[s]).locale("es-MX").format("L")),1)]),_:1})]),_:1},8,["value"])}const E=w(k,[["render",T]]),I=_({__name:"AddBanner",props:{idUsuario:{}},setup(r,{expose:a}){a();const o=r,e=new FormData,l=S({descripcion:"",url:""}),{refetch:i,data:n}=A("banners","bannersPanelData"),s=C("banners","post",{sendAsFormData:!0,onSuccess(){const c=document.getElementById("input-add-image");c.value="",i()}}),u={props:o,formData:e,body:l,refetch:i,data:n,sendBanner:s,handle:c=>{const{name:y,files:v}=c.target;e.append(y,v[0])},send:()=>{e.append("url",l.url),e.append("descripcion",l.url),e.append("idUsuario",o.idUsuario??""),e.append("mostrar","1"),s.mutate(e)},ListaBanners:E};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}}),M={class:"form-control w-full max-w-xs"},N={class:"form-control w-full max-w-xs"},P={class:"form-control w-full max-w-xs"};function O(r,a,o,e,l,i){return g(),h(F,null,[t("form",{onSubmit:B(e.send,["prevent"]),class:"flex gap-4 items-center"},[t("label",M,[a[2]||(a[2]=t("div",{class:"label"},[t("span",{class:"label-text"},"Selecciona una imagen")],-1)),t("input",{name:"imagen",type:"file",class:"file-input file-input-bordered w-full max-w-xs",accept:"image/*",onInput:e.handle,id:"input-add-image",required:""},null,32)]),t("label",N,[a[3]||(a[3]=t("div",{class:"label"},[t("span",{class:"label-text"},"Descripci칩n")],-1)),b(t("input",{type:"text",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":a[0]||(a[0]=n=>e.body.descripcion=n)},null,512),[[x,e.body.descripcion]])]),t("label",P,[a[4]||(a[4]=t("div",{class:"label"},[t("span",{class:"label-text"},"Enlace Adjunto")],-1)),b(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>e.body.url=n),class:"input input-bordered w-full max-w-xs"},null,512),[[x,e.body.url]])]),a[5]||(a[5]=t("button",{class:"btn btn-primary",type:"submit"},"A침adir banner",-1))],32),p(e.ListaBanners,{data:e.data?.response},null,8,["data"])],64)}const W=w(I,[["render",O]]);export{W as default};
