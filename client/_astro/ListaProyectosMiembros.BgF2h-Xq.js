import{d as C,k as v,l as r,b as _,j as y,m as w,o as c,a as s,w as x,g as M,n as l,t as n,p as m,c as g,F as T,q as E}from"./index.DGIqKwc_.js";import{s as k,a as F}from"./index.BFyzPufX.js";import{F as I}from"./index.BTSUBtd4.js";import{a as B}from"./format.DRaPJfrL.js";/* empty css                      */import{_ as D}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./index.BB4SJUmK.js";import"./moment.C5S46NFB.js";const N=C({__name:"ListaProyectosMiembros",props:{data:{}},setup(f,{expose:t}){t();const b=f,e=_(!1),p=_({global:{value:null,matchMode:I.CONTAINS}}),u=a=>{const h=new Intl.ListFormat("es",{type:"conjunction",style:"long"}),i=[];if(a.miembros_proyecto.forEach(d=>{i.push(d.nombreCompleto)}),a.otrosColaboradores){const d=a.otrosColaboradores.split(";");i.push(...d)}return i.length<1?"---":h.format(i)};y(()=>{e.value=!0}),w(()=>{e.value=!1});const o={props:b,isMounted:e,filters:p,getCollabs:u,get Column(){return k},get DataTable(){return F},get formatMoneda(){return B}};return Object.defineProperty(o,"__isScriptSetup",{enumerable:!1,value:!0}),o}}),P={class:"flex justify-end mb-4"},S={class:"input input-bordered flex items-center gap-2 w-full max-w-xs"},U={class:"w-20"},V={class:"min-w-32"},j={class:"w-24"},z={class:"w-32"},L={key:1,class:"w-24"};function O(f,t,b,e,p,u){return c(),v(e.DataTable,{value:e.props.data,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],filters:e.filters,"onUpdate:filters":t[1]||(t[1]=o=>e.filters=o),globalFilterFields:["clave","titulo","convocatoria","director_proyecto.nombreCompleto","otrosColaboradores"],loading:e.props.data.length<1?!1:!e.isMounted},{loading:r(()=>t[2]||(t[2]=[s("div",{class:"absolute top-0 left-0 h-full w-full z-30 select-none skeleton bg-base-300/60 backdrop-blur-[0.5px] rounded-btn"},null,-1)])),header:r(()=>[s("div",P,[s("label",S,[t[3]||(t[3]=s("i",{class:"bi bi-search"},null,-1)),x(s("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>e.filters.global.value=o),type:"text",class:"grow",placeholder:"Buscar proyecto (clave, titulo, convocatoria, director)"},null,512),[[M,e.filters.global.value]])])])]),empty:r(()=>t[4]||(t[4]=[s("div",{class:"text-center font-bold"},"Sin datos.",-1)])),default:r(()=>[l(e.Column,{field:"clave",header:"Clave"},{body:r(({data:o,field:a})=>[s("div",U,n(o[a]),1)]),_:1}),l(e.Column,{field:"convocatoria",header:"Convocatoria"}),l(e.Column,{field:"titulo",header:"Titulo"},{body:r(({data:o,field:a})=>[s("div",V,n(o[a]),1)]),_:1}),l(e.Column,{field:"director_proyecto.nombreCompleto",header:"Director(a) responsable",sortable:""}),l(e.Column,{field:"fechaInicio",header:"Vigencia"},{body:r(({data:o})=>[s("div",j,n(o.fechaInicio)+" a "+n(o.fechaTermino),1)]),_:1}),l(e.Column,{field:"miembros_proyecto",header:"Colaboradores"},{body:r(({data:o})=>[s("div",z,n(e.getCollabs(o)),1)]),_:1}),l(e.Column,{field:"tipo",header:"Tipo",sortable:""},{body:r(({data:o,field:a})=>[m(n(o[a].toUpperCase()),1)]),_:1}),l(e.Column,{field:"monto",header:"Monto aprobado",sortable:""},{body:r(({data:o,field:a})=>[m(n(e.formatMoneda(o[a])),1)]),_:1}),l(e.Column,{field:"fechaInicioEntrega",header:"Entrega final"},{body:r(({data:o})=>[!o.fechaInicioEntrega||!o.fechaTerminoEntrega?(c(),g(T,{key:0},[m(" --- ")],64)):(c(),g("div",L,n(o.fechaInicioEntrega)+" a "+n(o.fechaTerminoEntrega),1))]),_:1}),l(e.Column,{field:"estatus",header:"Estatus",sortable:""},{body:r(({data:o,field:a})=>[s("div",{class:E(["badge h-max",{"badge-success":o[a]==="finalizado","badge-info":o[a]==="en proceso"}])},n(o[a].toUpperCase()),3)]),_:1})]),_:1},8,["value","filters","loading"])}const W=D(N,[["render",O]]);export{W as default};
