import{d as w,r as D,o as B,s as F,g as u,c as g,h as S,i as d,p as c,j as f,t as b,a as t,b as x,v as _,w as k,F as A,f as C}from"./index.CSUBG7uk.js";import{a as M,u as U}from"./http.CVdeZ9tB.js";import{a as j,s as V}from"./index.DRtqwZTu.js";import{h as L}from"./moment.C5S46NFB.js";import{_ as y}from"./_plugin-vue_export-helper.DlAUqK2U.js";import"./utils.ZItgGjPZ.js";import"./index.DJz7nlP7.js";const T=w({__name:"ListaBanners",props:{data:{}},setup(l,{expose:a}){a();const o=l,e=D(!1);B(()=>{e.value=!0}),F(()=>{e.value=!1});const r={props:o,isMounted:e,get DataTable(){return j},get Column(){return V},get moment(){return L}};return Object.defineProperty(r,"__isScriptSetup",{enumerable:!1,value:!0}),r}}),E={key:0,class:"skeleton h-96 w-full"},I=["src","alt"];function N(l,a,o,e,r,i){return e.isMounted?(u(),S(e.DataTable,{key:1,value:e.props.data,paginator:!0,rows:5},{default:d(()=>[c(e.Column,{field:"descripcion",header:"Descripci칩n"},{body:d(({data:n,field:s})=>[f(b(n[s]??"---"),1)]),_:1}),c(e.Column,{field:"imagen",header:"Imagen"},{body:d(({data:n,field:s})=>[t("img",{class:"object-cover size-12",src:n[s],alt:n[s],width:"50px",height:"50px"},null,8,I)]),_:1}),c(e.Column,{field:"createdAt",header:"Fecha de creaci칩n"},{body:d(({data:n,field:s})=>[f(b(e.moment(n[s]).locale("es-MX").format("L")),1)]),_:1})]),_:1},8,["value"])):(u(),g("div",E))}const P=y(T,[["render",N]]),O=w({__name:"AddBanner",props:{idUsuario:{}},setup(l,{expose:a}){a();const o=l,e=new FormData,r=C({descripcion:"",url:""}),{refetch:i,data:n}=M("banners","bannersPanelData"),s=U("banners","post",{sendAsFormData:!0,onSuccess(){const p=document.getElementById("input-add-image");p.value="",i()}}),m={props:o,formData:e,body:r,refetch:i,data:n,sendBanner:s,handle:p=>{const{name:v,files:h}=p.target;e.append(v,h[0])},send:()=>{e.append("url",r.url),e.append("descripcion",r.url),e.append("idUsuario",o.idUsuario??""),e.append("mostrar","1"),s.mutate(e)},ListaBanners:P};return Object.defineProperty(m,"__isScriptSetup",{enumerable:!1,value:!0}),m}}),q={class:"form-control w-full max-w-xs"},z={class:"form-control w-full max-w-xs"},G={class:"form-control w-full max-w-xs"};function X(l,a,o,e,r,i){return u(),g(A,null,[t("form",{onSubmit:k(e.send,["prevent"]),class:"flex gap-4 items-center"},[t("label",q,[a[2]||(a[2]=t("div",{class:"label"},[t("span",{class:"label-text"},"Selecciona una imagen")],-1)),t("input",{name:"imagen",type:"file",class:"file-input file-input-bordered w-full max-w-xs",accept:"image/*",onInput:e.handle,id:"input-add-image",required:""},null,32)]),t("label",z,[a[3]||(a[3]=t("div",{class:"label"},[t("span",{class:"label-text"},"Descripci칩n")],-1)),x(t("input",{type:"text",class:"input input-bordered w-full max-w-xs","onUpdate:modelValue":a[0]||(a[0]=n=>e.body.descripcion=n)},null,512),[[_,e.body.descripcion]])]),t("label",G,[a[4]||(a[4]=t("div",{class:"label"},[t("span",{class:"label-text"},"Enlace Adjunto")],-1)),x(t("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=n=>e.body.url=n),class:"input input-bordered w-full max-w-xs"},null,512),[[_,e.body.url]])]),a[5]||(a[5]=t("button",{class:"btn btn-primary",type:"submit"},"A침adir banner",-1))],32),c(e.ListaBanners,{data:e.data?.response},null,8,["data"])],64)}const ee=y(O,[["render",X]]);export{ee as default};
